#N canvas 110 328 1241 623 12;
#X declare -lib pix_opencv;
#X declare -lib cvlib;
#X declare -lib gem;
#X declare -path pdr/core/fid_abs_vanilia-0.4;
#X declare -path pdr/core/stuff;
#X declare -path pdr/core/rj;
#X declare -path stuff;
#N canvas 699 88 611 411 gemwin 0;
#X obj 94 143 t b b;
#X msg 89 97 reset \, dimen 800 600 \, fullscreen 0 \, border 0 \,
create \, 1;
#X msg 79 117 reset \, dimen 1024 768 \, fullscreen 1 \, create \,
1;
#X msg 200 43 reset \, offset 800 400 \, dimen 400 300 \, fullscreen
0 \, border 0 \, create \, 1;
#X obj 55 34 inlet;
#X msg 183 181 reset \, border 1 \, dimen 640 480 \, create \, 1;
#X msg 160 253 reset \, offset 1366 0 \, dimen 1280 768 \, fullscreen
0 \, border 0 \, create \, 1;
#X msg 99 173 0 \, destroy;
#X obj 39 237 r gemwin;
#X obj 47 69 select 2 1 0 3 4 5 6;
#X text 239 362 1366-400=966;
#X obj 76 197 gemwin 25;
#X text 239 382 1366+400=1766;
#X msg 13 47 0;
#X msg 120 313 reset \, offset 966 0 \, dimen 1766 768 \, fullscreen
0 \, border 0 \, create \, 1;
#X connect 0 1 7 0;
#X connect 1 0 11 0;
#X connect 2 0 11 0;
#X connect 3 0 11 0;
#X connect 4 0 9 0;
#X connect 5 0 11 0;
#X connect 6 0 11 0;
#X connect 7 0 11 0;
#X connect 8 0 11 0;
#X connect 9 0 2 0;
#X connect 9 1 1 0;
#X connect 9 2 0 0;
#X connect 9 3 3 0;
#X connect 9 4 5 0;
#X connect 9 5 6 0;
#X connect 9 6 14 0;
#X connect 13 0 9 0;
#X connect 14 0 11 0;
#X restore 553 184 pd gemwin;
#X msg 591 73 3;
#X msg 592 50 0;
#X text 213 11 lancer d'abord KinectTouch2;
#X text 207 28 C://Users/jyg/Desktop/Projets/2016/Robosonik/KinectTouch
;
#X obj 1001 419 gemkeyboard;
#X obj 1002 450 select 32;
#X obj 1003 479 list prepend send TRANSPORT spacebar;
#X obj 1006 510 s TO_AUDIO_SESSION;
#X obj 136 235 pix_info, f 20;
#X obj 158 262 s WIDTH;
#X obj 178 282 s HEIGHT;
#X obj 31 257 s GEM;
#X msg 591 114 4;
#X obj 198 71 tgl 15 1 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 106 325 spigot;
#X obj 135 286 tgl 15 0 empty empty image 17 7 0 10 -262144 -1 -1 1
1;
#X obj 217 145 == 0;
#X obj 4 225 t a a;
#X msg 590 143 5;
#N canvas 777 216 566 434 viewzoom 0;
#X obj 204 114 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 267 111 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 237 114 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 57 189 spigot;
#X obj 69 80 - 2;
#X obj 153 20 gemmouse 4 4;
#X obj 119 80 - 2;
#X obj 54 231 spigot;
#X obj 235 229 spigot;
#X obj 23 325 list append 4;
#X msg 204 312 \; gemwin view \$1 \$2 \$3;
#X obj 199 282 list prepend 0 0;
#X obj 57 164 pack f f;
#X msg 313 154 1;
#X msg 150 196 0;
#X obj 179 72 * 0.75;
#X obj 179 97 + 1.01;
#X obj 315 74 select 1 0;
#X obj 399 125 delay 10;
#X msg 390 164 1;
#X msg 354 166 0;
#X obj 40 114 * -1;
#X obj 446 244 delay 5000;
#X msg 447 275 0;
#X obj 168 162 select 0 1;
#X msg 263 200 stop;
#X connect 0 0 3 1;
#X connect 3 0 7 0;
#X connect 4 0 21 0;
#X connect 5 0 4 0;
#X connect 5 1 6 0;
#X connect 5 1 15 0;
#X connect 5 2 0 0;
#X connect 5 2 24 0;
#X connect 5 3 2 0;
#X connect 5 4 1 0;
#X connect 5 4 17 0;
#X connect 6 0 12 1;
#X connect 7 0 9 0;
#X connect 7 0 11 1;
#X connect 8 0 11 0;
#X connect 8 0 9 1;
#X connect 9 0 10 0;
#X connect 11 0 10 0;
#X connect 12 0 3 0;
#X connect 13 0 7 1;
#X connect 14 0 7 1;
#X connect 15 0 16 0;
#X connect 16 0 8 0;
#X connect 17 0 18 0;
#X connect 17 1 20 0;
#X connect 17 1 22 0;
#X connect 17 1 13 0;
#X connect 18 0 19 0;
#X connect 19 0 8 1;
#X connect 20 0 8 1;
#X connect 21 0 12 0;
#X connect 22 0 23 0;
#X connect 23 0 7 1;
#X connect 24 0 14 0;
#X connect 24 1 25 0;
#X connect 25 0 22 0;
#X restore 261 284 pd viewzoom;
#X text 762 184 dans le cas d'une utilisation dans le m√™me thread
;
#N canvas 0 50 568 493 videocapture 0;
#X obj 35 9 inlet;
#X obj 39 402 pix_write;
#X msg 272 164 auto 0/1;
#X obj 214 80 savepanel;
#X msg 209 258 file \$1 80;
#X obj 185 46 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X msg 87 364 0 0;
#X msg 144 364 640 480;
#X obj 37 158 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X msg 88 253 auto \$1;
#X obj 233 52 select 1;
#X obj 166 108 t b s;
#X obj 110 145 delay 100;
#X msg 97 185 1;
#X obj 239 24 inlet;
#X obj 195 330 loadbang;
#X connect 0 0 1 0;
#X connect 3 0 11 0;
#X connect 4 0 1 0;
#X connect 5 0 3 0;
#X connect 6 0 1 1;
#X connect 7 0 1 2;
#X connect 8 0 1 0;
#X connect 9 0 1 0;
#X connect 10 0 3 0;
#X connect 10 1 9 0;
#X connect 11 0 12 0;
#X connect 11 1 4 0;
#X connect 12 0 13 0;
#X connect 13 0 9 0;
#X connect 14 0 10 0;
#X connect 15 0 7 0;
#X connect 15 0 6 0;
#X restore 2 432 pd videocapture;
#X obj 120 414 tgl 15 0 empty empty capture 17 7 0 10 -262144 -1 -1
0 1;
#X text 628 143 fullscreen;
#X text 628 160 sur 2eme ecran;
#X text 625 110 fenetre 640 480;
#X text 630 68 400x300 bas droit;
#N canvas 1 56 450 300 communication_as_subprocess 0;
#X obj 75 50 r TO_AUDIO_SESSION;
#X obj 75 74 stdout;
#X obj 74 115 r TO_VIDEO;
#X obj 69 141 list split 1;
#X obj 66 165 t b s;
#X obj 83 197 list append;
#X obj 83 225 list trim;
#X obj 83 250 s;
#X connect 0 0 1 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 3 1 5 1;
#X connect 4 0 5 0;
#X connect 4 1 7 1;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X restore 812 210 pd communication_as_subprocess;
#N canvas 681 66 450 300 threshold 0;
#X obj 90 35 inlet;
#X obj 103 251 outlet;
#X obj 200 16 loadbang;
#X floatatom 150 86 5 0 0 0 - - -;
#X obj 62 83 pix_grey;
#X msg 193 195 0;
#X msg 238 197 1;
#X msg 162 60 200;
#X obj 331 43 inlet;
#X obj 258 238 outlet;
#X obj 99 213 t a a;
#X obj 8 153 pix_opencv_athreshold;
#X obj 100 182 cvErode 1;
#X obj 150 110 f;
#X obj 62 110 t a b;
#X connect 0 0 4 0;
#X connect 2 0 7 0;
#X connect 2 0 6 0;
#X connect 3 0 13 0;
#X connect 4 0 14 0;
#X connect 5 0 12 1;
#X connect 6 0 12 1;
#X connect 7 0 3 0;
#X connect 8 0 3 0;
#X connect 10 0 1 0;
#X connect 10 1 9 0;
#X connect 11 0 10 0;
#X connect 12 0 10 0;
#X connect 13 0 11 2;
#X connect 14 0 11 0;
#X connect 14 1 13 0;
#X restore 391 174 pd threshold;
#N canvas 1 56 484 389 find_contours 0;
#X obj 169 72 inlet;
#X obj 199 146 cvFindContours;
#X obj 169 120 t a a;
#X obj 296 200 outlet;
#X connect 0 0 2 0;
#X connect 1 1 3 0;
#X connect 2 1 1 0;
#X restore 381 251 pd find_contours;
#N canvas 0 50 619 551 trier_4_plus_grands_contours 0;
#X obj 97 0 inlet;
#X obj 67 426 outlet;
#X obj 97 164 t a a;
#X obj 61 387 cvSortContours 4;
#X obj 404 45 cvContoursFeature IsHole;
#X obj 107 44 t a a;
#X obj 105 105 cvRouteContours 1;
#X obj 190 176 cvContoursFeature Perimeter;
#X connect 0 0 5 0;
#X connect 2 0 3 0;
#X connect 2 1 7 0;
#X connect 3 0 1 0;
#X connect 4 0 6 1;
#X connect 5 0 6 0;
#X connect 5 1 4 0;
#X connect 6 0 2 0;
#X connect 7 0 3 1;
#X restore 889 586 pd trier_4_plus_grands_contours;
#X obj 879 636 t a a a;
#X obj 615 298 hsl 128 15 0 500 0 1 empty empty min_perimeter -2 8
0 10 -204800 -1 -1 700 1;
#X obj 544 275 hsl 128 15 0 2000 0 1 empty empty min_area -2 8 0 10
-204786 -1 -1 2300 1;
#X obj 485 212 hsl 128 15 0 300 0 1 empty empty threshold -2 8 0 10
-262130 -1 -1 10300 1;
#X text 468 337 cvContours A4 sur le second outlet;
#X text 377 351 autres cvContours sur le premier outlet;
#X text 57 542 bleu;
#X text 10 567 bleu clair;
#X text 48 589 jaune;
#N canvas 429 50 857 624 tracking_A4/tri_des_contours_inclus 0;
#X obj 67 40 inlet;
#X obj 92 95 text size contours;
#X obj 92 120 t f b;
#X obj 92 145 until;
#X obj 92 170 f;
#X obj 137 170 + 1;
#X msg 146 139 0;
#X obj 205 360 * 2;
#X obj 185 385 +;
#N canvas 218 92 913 609 crit√®re_inclusion 0;
#X obj 118 571 outlet;
#X obj 403 232 / 180;
#X obj 91 264 -;
#X obj 201 263 -;
#X text 354 393 A'.x = A.x * cos(Œ∏) - A.y * sin(Œ∏) A'.y = A.x * sin(Œ∏)
+ A.y * cos(Œ∏);
#X obj 91 349 *;
#X obj 320 255 cos;
#X obj 403 257 * -3.14159;
#X obj 91 374 -;
#X obj 201 288 *;
#X obj 443 299 sin;
#X obj 162 374 +;
#X obj 91 289 t f f;
#X obj 161 349 *;
#X obj 331 319 *;
#X obj 91 399 abs;
#X obj 162 399 abs;
#X obj 91 424 <;
#X obj 162 424 <;
#X obj 91 449 &&;
#X obj 85 210 unpack f f f f f f f f;
#X obj 290 204 unpack f f f f f f f f;
#X obj 203 486 <;
#X obj 118 483 &&;
#X obj 278 -34 inlet A4vector;
#X obj 270 -3 route add update remove;
#X msg 173 38 1;
#X msg 216 43 0;
#X obj 66 89 route 1 0;
#X obj 66 64 list prepend 1;
#X msg 21 501 0;
#X obj 532 495 outlet freeze;
#X obj 424 64 t b b;
#X msg 565 127 0;
#X msg 556 68 stop;
#X obj 544 43 t b b;
#X msg 484 134 1;
#X obj 484 159 change;
#X obj 424 89 delay 200;
#X obj 482 39 t b b;
#X text 554 185 quand le tracking du feuilletA4 est perdu;
#X text 555 205 freezer les contours int√©rieurs;
#X obj 355 470 *;
#X obj 394 470 *;
#X obj 355 495 * 1.5;
#X obj 355 520 <;
#X obj 118 508 &&;
#X text 399 533 surface doit √™tre inf√©rieure;
#X obj 273 405 * 0.45;
#X obj 271 443 * 0.45;
#X obj 65 -32 inlet contoursVector;
#X connect 1 0 7 0;
#X connect 2 0 12 0;
#X connect 3 0 9 0;
#X connect 3 0 14 0;
#X connect 5 0 8 0;
#X connect 6 0 5 1;
#X connect 6 0 14 1;
#X connect 7 0 6 0;
#X connect 7 0 10 0;
#X connect 8 0 15 0;
#X connect 9 0 8 1;
#X connect 10 0 9 1;
#X connect 10 0 13 1;
#X connect 11 0 16 0;
#X connect 12 0 5 0;
#X connect 12 1 13 0;
#X connect 13 0 11 0;
#X connect 14 0 11 1;
#X connect 15 0 17 0;
#X connect 16 0 18 0;
#X connect 17 0 19 0;
#X connect 18 0 19 1;
#X connect 19 0 23 0;
#X connect 20 0 2 0;
#X connect 20 1 3 0;
#X connect 20 2 42 0;
#X connect 20 3 42 1;
#X connect 20 7 22 0;
#X connect 21 0 2 1;
#X connect 21 1 3 1;
#X connect 21 2 43 0;
#X connect 21 2 48 0;
#X connect 21 3 43 1;
#X connect 21 3 49 0;
#X connect 21 4 1 0;
#X connect 21 7 22 1;
#X connect 22 0 23 1;
#X connect 23 0 46 0;
#X connect 24 0 25 0;
#X connect 25 0 21 0;
#X connect 25 0 26 0;
#X connect 25 0 32 0;
#X connect 25 1 21 0;
#X connect 25 1 26 0;
#X connect 25 1 39 0;
#X connect 25 2 27 0;
#X connect 25 2 35 0;
#X connect 26 0 29 1;
#X connect 27 0 29 1;
#X connect 28 0 20 0;
#X connect 28 1 30 0;
#X connect 29 0 28 0;
#X connect 30 0 0 0;
#X connect 32 0 38 0;
#X connect 32 1 33 0;
#X connect 33 0 37 0;
#X connect 34 0 38 0;
#X connect 35 0 33 0;
#X connect 35 1 34 0;
#X connect 36 0 37 0;
#X connect 37 0 31 0;
#X connect 38 0 36 0;
#X connect 39 0 38 0;
#X connect 39 1 33 0;
#X connect 42 0 44 0;
#X connect 43 0 45 1;
#X connect 44 0 45 0;
#X connect 45 0 46 1;
#X connect 46 0 0 0;
#X connect 48 0 17 1;
#X connect 49 0 18 1;
#X connect 50 0 29 0;
#X restore 92 334 pd crit√®re_inclusion;
#N canvas 0 50 450 300 TUIOClient_Cursor_messages 0;
#X obj 78 231 list trim;
#X obj 98 14 inlet;
#X obj 100 257 outlet;
#X obj 175 132 makefilename %sCursor;
#X obj 106 62 list split 2;
#X obj 106 87 unpack f s;
#X obj 78 177 list prepend;
#X obj 78 202 list append;
#X connect 0 0 2 0;
#X connect 1 0 4 0;
#X connect 3 0 6 1;
#X connect 4 0 5 0;
#X connect 4 1 7 1;
#X connect 5 0 6 0;
#X connect 5 1 3 0;
#X connect 6 0 7 0;
#X connect 7 0 0 0;
#X restore 679 61 pd TUIOClient_Cursor_messages;
#X obj 506 13 inlet;
#N canvas 0 50 644 426 freezeContours 0;
#X obj 206 65 inlet;
#X obj 141 317 outlet;
#X obj 314 49 inlet;
#X obj 207 125 route 0 1;
#X obj 206 90 list prepend 0;
#X obj 222 212 cvRouteContours 0;
#X obj 222 237 route cvContours;
#X obj 191 264 f;
#X obj 167 219 t b;
#X msg 207 289 cvContours \$1;
#X obj 149 145 t a a b;
#X msg 237 178 0 \, 0 \, 0 \, 0 \, 0;
#X connect 0 0 4 0;
#X connect 2 0 4 1;
#X connect 3 0 10 0;
#X connect 3 1 8 0;
#X connect 4 0 3 0;
#X connect 5 0 6 0;
#X connect 6 0 7 1;
#X connect 7 0 9 0;
#X connect 8 0 7 0;
#X connect 9 0 1 0;
#X connect 10 0 1 0;
#X connect 10 1 5 0;
#X connect 10 2 11 0;
#X connect 11 0 5 1;
#X restore 27 634 pd freezeContours;
#N canvas 0 50 450 300 freezeContours 0;
#X obj 206 25 inlet;
#X obj 107 245 outlet;
#X obj 322 15 inlet;
#X obj 207 85 route 0 1;
#X obj 206 50 list prepend 0;
#X obj 246 178 cvRouteContours 0;
#X obj 246 203 route cvContours;
#X obj 183 215 f;
#X obj 191 185 t b;
#X msg 231 255 cvContours \$1;
#X obj 269 133 t a a b;
#X msg 349 135 0 \, 0 \, 0 \, 0 \, 0 \, 0;
#X connect 0 0 4 0;
#X connect 2 0 4 1;
#X connect 3 0 10 0;
#X connect 3 1 8 0;
#X connect 4 0 3 0;
#X connect 5 0 6 0;
#X connect 6 0 7 1;
#X connect 7 0 9 0;
#X connect 8 0 7 0;
#X connect 9 0 1 0;
#X connect 10 0 1 0;
#X connect 10 1 5 0;
#X connect 10 2 11 0;
#X connect 11 0 5 1;
#X restore 75 583 pd freezeContours;
#X obj 66 66 t a b b;
#X obj 27 659 outlet contours_inclus1;
#X obj 75 608 outlet contours_inclus2;
#X obj 404 487 outlet other_contours;
#X obj 247 211 route 0 1 2 3;
#X obj 241 361 * 4;
#X obj 277 362 * 8;
#X obj 30 448 cvRouteContours 1 2 4 8;
#X obj 92 200 text get contours;
#X obj 93 227 t l l l l;
#N canvas 218 92 913 609 crit√®re_inclusion 0;
#X obj 118 571 outlet;
#X obj 403 232 / 180;
#X obj 91 264 -;
#X obj 201 263 -;
#X text 354 393 A'.x = A.x * cos(Œ∏) - A.y * sin(Œ∏) A'.y = A.x * sin(Œ∏)
+ A.y * cos(Œ∏);
#X obj 91 349 *;
#X obj 320 255 cos;
#X obj 403 257 * -3.14159;
#X obj 91 374 -;
#X obj 201 288 *;
#X obj 443 299 sin;
#X obj 162 374 +;
#X obj 91 289 t f f;
#X obj 161 349 *;
#X obj 331 319 *;
#X obj 91 399 abs;
#X obj 162 399 abs;
#X obj 91 424 <;
#X obj 162 424 <;
#X obj 91 449 &&;
#X obj 85 210 unpack f f f f f f f f;
#X obj 290 204 unpack f f f f f f f f;
#X obj 203 486 <;
#X obj 118 483 &&;
#X obj 278 -34 inlet A4vector;
#X obj 270 -3 route add update remove;
#X msg 173 38 1;
#X msg 216 43 0;
#X obj 66 89 route 1 0;
#X obj 66 64 list prepend 1;
#X msg 21 501 0;
#X obj 532 495 outlet freeze;
#X obj 424 64 t b b;
#X msg 565 127 0;
#X msg 556 68 stop;
#X obj 544 43 t b b;
#X msg 484 134 1;
#X obj 484 159 change;
#X obj 424 89 delay 200;
#X obj 482 39 t b b;
#X text 554 185 quand le tracking du feuilletA4 est perdu;
#X text 555 205 freezer les contours int√©rieurs;
#X obj 355 470 *;
#X obj 394 470 *;
#X obj 355 495 * 1.5;
#X obj 355 520 <;
#X obj 118 508 &&;
#X text 399 533 surface doit √™tre inf√©rieure;
#X obj 273 405 * 0.45;
#X obj 271 443 * 0.45;
#X obj 65 -32 inlet contoursVector;
#X connect 1 0 7 0;
#X connect 2 0 12 0;
#X connect 3 0 9 0;
#X connect 3 0 14 0;
#X connect 5 0 8 0;
#X connect 6 0 5 1;
#X connect 6 0 14 1;
#X connect 7 0 6 0;
#X connect 7 0 10 0;
#X connect 8 0 15 0;
#X connect 9 0 8 1;
#X connect 10 0 9 1;
#X connect 10 0 13 1;
#X connect 11 0 16 0;
#X connect 12 0 5 0;
#X connect 12 1 13 0;
#X connect 13 0 11 0;
#X connect 14 0 11 1;
#X connect 15 0 17 0;
#X connect 16 0 18 0;
#X connect 17 0 19 0;
#X connect 18 0 19 1;
#X connect 19 0 23 0;
#X connect 20 0 2 0;
#X connect 20 1 3 0;
#X connect 20 2 42 0;
#X connect 20 3 42 1;
#X connect 20 7 22 0;
#X connect 21 0 2 1;
#X connect 21 1 3 1;
#X connect 21 2 43 0;
#X connect 21 2 48 0;
#X connect 21 3 43 1;
#X connect 21 3 49 0;
#X connect 21 4 1 0;
#X connect 21 7 22 1;
#X connect 22 0 23 1;
#X connect 23 0 46 0;
#X connect 24 0 25 0;
#X connect 25 0 21 0;
#X connect 25 0 26 0;
#X connect 25 0 32 0;
#X connect 25 1 21 0;
#X connect 25 1 26 0;
#X connect 25 1 39 0;
#X connect 25 2 27 0;
#X connect 25 2 35 0;
#X connect 26 0 29 1;
#X connect 27 0 29 1;
#X connect 28 0 20 0;
#X connect 28 1 30 0;
#X connect 29 0 28 0;
#X connect 30 0 0 0;
#X connect 32 0 38 0;
#X connect 32 1 33 0;
#X connect 33 0 37 0;
#X connect 34 0 38 0;
#X connect 35 0 33 0;
#X connect 35 1 34 0;
#X connect 36 0 37 0;
#X connect 37 0 31 0;
#X connect 38 0 36 0;
#X connect 39 0 38 0;
#X connect 39 1 33 0;
#X connect 42 0 44 0;
#X connect 43 0 45 1;
#X connect 44 0 45 0;
#X connect 45 0 46 1;
#X connect 46 0 0 0;
#X connect 48 0 17 1;
#X connect 49 0 18 1;
#X connect 50 0 29 0;
#X restore 116 307 pd crit√®re_inclusion;
#N canvas 218 92 913 609 crit√®re_inclusion 0;
#X obj 118 571 outlet;
#X obj 403 232 / 180;
#X obj 91 264 -;
#X obj 201 263 -;
#X text 354 393 A'.x = A.x * cos(Œ∏) - A.y * sin(Œ∏) A'.y = A.x * sin(Œ∏)
+ A.y * cos(Œ∏);
#X obj 91 349 *;
#X obj 320 255 cos;
#X obj 403 257 * -3.14159;
#X obj 91 374 -;
#X obj 201 288 *;
#X obj 443 299 sin;
#X obj 162 374 +;
#X obj 91 289 t f f;
#X obj 161 349 *;
#X obj 331 319 *;
#X obj 91 399 abs;
#X obj 162 399 abs;
#X obj 91 424 <;
#X obj 162 424 <;
#X obj 91 449 &&;
#X obj 85 210 unpack f f f f f f f f;
#X obj 290 204 unpack f f f f f f f f;
#X obj 203 486 <;
#X obj 118 483 &&;
#X obj 278 -34 inlet A4vector;
#X obj 270 -3 route add update remove;
#X msg 173 38 1;
#X msg 216 43 0;
#X obj 66 89 route 1 0;
#X obj 66 64 list prepend 1;
#X msg 21 501 0;
#X obj 532 495 outlet freeze;
#X obj 424 64 t b b;
#X msg 565 127 0;
#X msg 556 68 stop;
#X obj 544 43 t b b;
#X msg 484 134 1;
#X obj 484 159 change;
#X obj 424 89 delay 200;
#X obj 482 39 t b b;
#X text 554 185 quand le tracking du feuilletA4 est perdu;
#X text 555 205 freezer les contours int√©rieurs;
#X obj 355 470 *;
#X obj 394 470 *;
#X obj 355 495 * 1.5;
#X obj 355 520 <;
#X obj 118 508 &&;
#X text 399 533 surface doit √™tre inf√©rieure;
#X obj 273 405 * 0.45;
#X obj 271 443 * 0.45;
#X obj 65 -32 inlet contoursVector;
#X connect 1 0 7 0;
#X connect 2 0 12 0;
#X connect 3 0 9 0;
#X connect 3 0 14 0;
#X connect 5 0 8 0;
#X connect 6 0 5 1;
#X connect 6 0 14 1;
#X connect 7 0 6 0;
#X connect 7 0 10 0;
#X connect 8 0 15 0;
#X connect 9 0 8 1;
#X connect 10 0 9 1;
#X connect 10 0 13 1;
#X connect 11 0 16 0;
#X connect 12 0 5 0;
#X connect 12 1 13 0;
#X connect 13 0 11 0;
#X connect 14 0 11 1;
#X connect 15 0 17 0;
#X connect 16 0 18 0;
#X connect 17 0 19 0;
#X connect 18 0 19 1;
#X connect 19 0 23 0;
#X connect 20 0 2 0;
#X connect 20 1 3 0;
#X connect 20 2 42 0;
#X connect 20 3 42 1;
#X connect 20 7 22 0;
#X connect 21 0 2 1;
#X connect 21 1 3 1;
#X connect 21 2 43 0;
#X connect 21 2 48 0;
#X connect 21 3 43 1;
#X connect 21 3 49 0;
#X connect 21 4 1 0;
#X connect 21 7 22 1;
#X connect 22 0 23 1;
#X connect 23 0 46 0;
#X connect 24 0 25 0;
#X connect 25 0 21 0;
#X connect 25 0 26 0;
#X connect 25 0 32 0;
#X connect 25 1 21 0;
#X connect 25 1 26 0;
#X connect 25 1 39 0;
#X connect 25 2 27 0;
#X connect 25 2 35 0;
#X connect 26 0 29 1;
#X connect 27 0 29 1;
#X connect 28 0 20 0;
#X connect 28 1 30 0;
#X connect 29 0 28 0;
#X connect 30 0 0 0;
#X connect 32 0 38 0;
#X connect 32 1 33 0;
#X connect 33 0 37 0;
#X connect 34 0 38 0;
#X connect 35 0 33 0;
#X connect 35 1 34 0;
#X connect 36 0 37 0;
#X connect 37 0 31 0;
#X connect 38 0 36 0;
#X connect 39 0 38 0;
#X connect 39 1 33 0;
#X connect 42 0 44 0;
#X connect 43 0 45 1;
#X connect 44 0 45 0;
#X connect 45 0 46 1;
#X connect 46 0 0 0;
#X connect 48 0 17 1;
#X connect 49 0 18 1;
#X connect 50 0 29 0;
#X restore 140 281 pd crit√®re_inclusion;
#N canvas 218 92 913 609 crit√®re_inclusion 0;
#X obj 118 571 outlet;
#X obj 403 232 / 180;
#X obj 91 264 -;
#X obj 201 263 -;
#X text 354 393 A'.x = A.x * cos(Œ∏) - A.y * sin(Œ∏) A'.y = A.x * sin(Œ∏)
+ A.y * cos(Œ∏);
#X obj 91 349 *;
#X obj 320 255 cos;
#X obj 403 257 * -3.14159;
#X obj 91 374 -;
#X obj 201 288 *;
#X obj 443 299 sin;
#X obj 162 374 +;
#X obj 91 289 t f f;
#X obj 161 349 *;
#X obj 331 319 *;
#X obj 91 399 abs;
#X obj 162 399 abs;
#X obj 91 424 <;
#X obj 162 424 <;
#X obj 91 449 &&;
#X obj 85 210 unpack f f f f f f f f;
#X obj 290 204 unpack f f f f f f f f;
#X obj 203 486 <;
#X obj 118 483 &&;
#X obj 278 -34 inlet A4vector;
#X obj 270 -3 route add update remove;
#X msg 173 38 1;
#X msg 216 43 0;
#X obj 66 89 route 1 0;
#X obj 66 64 list prepend 1;
#X msg 21 501 0;
#X obj 532 495 outlet freeze;
#X obj 424 64 t b b;
#X msg 565 127 0;
#X msg 556 68 stop;
#X obj 544 43 t b b;
#X msg 484 134 1;
#X obj 484 159 change;
#X obj 430 102 delay 200;
#X obj 482 39 t b b;
#X text 554 185 quand le tracking du feuilletA4 est perdu;
#X text 555 205 freezer les contours int√©rieurs;
#X obj 355 470 *;
#X obj 394 470 *;
#X obj 355 495 * 1.5;
#X obj 355 520 <;
#X obj 118 508 &&;
#X text 399 533 surface doit √™tre inf√©rieure;
#X obj 273 405 * 0.45;
#X obj 271 443 * 0.45;
#X obj 65 -32 inlet contoursVector;
#X connect 1 0 7 0;
#X connect 2 0 12 0;
#X connect 3 0 9 0;
#X connect 3 0 14 0;
#X connect 5 0 8 0;
#X connect 6 0 5 1;
#X connect 6 0 14 1;
#X connect 7 0 6 0;
#X connect 7 0 10 0;
#X connect 8 0 15 0;
#X connect 9 0 8 1;
#X connect 10 0 9 1;
#X connect 10 0 13 1;
#X connect 11 0 16 0;
#X connect 12 0 5 0;
#X connect 12 1 13 0;
#X connect 13 0 11 0;
#X connect 14 0 11 1;
#X connect 15 0 17 0;
#X connect 16 0 18 0;
#X connect 17 0 19 0;
#X connect 18 0 19 1;
#X connect 19 0 23 0;
#X connect 20 0 2 0;
#X connect 20 1 3 0;
#X connect 20 2 42 0;
#X connect 20 3 42 1;
#X connect 20 7 22 0;
#X connect 21 0 2 1;
#X connect 21 1 3 1;
#X connect 21 2 43 0;
#X connect 21 2 48 0;
#X connect 21 3 43 1;
#X connect 21 3 49 0;
#X connect 21 4 1 0;
#X connect 21 7 22 1;
#X connect 22 0 23 1;
#X connect 23 0 46 0;
#X connect 24 0 25 0;
#X connect 25 0 21 0;
#X connect 25 0 26 0;
#X connect 25 0 32 0;
#X connect 25 1 21 0;
#X connect 25 1 26 0;
#X connect 25 1 39 0;
#X connect 25 2 27 0;
#X connect 25 2 35 0;
#X connect 26 0 29 1;
#X connect 27 0 29 1;
#X connect 28 0 20 0;
#X connect 28 1 30 0;
#X connect 29 0 28 0;
#X connect 30 0 0 0;
#X connect 32 0 38 0;
#X connect 32 1 33 0;
#X connect 33 0 37 0;
#X connect 34 0 38 0;
#X connect 35 0 33 0;
#X connect 35 1 34 0;
#X connect 36 0 37 0;
#X connect 37 0 31 0;
#X connect 38 0 36 0;
#X connect 39 0 38 0;
#X connect 39 1 33 0;
#X connect 42 0 44 0;
#X connect 43 0 45 1;
#X connect 44 0 45 0;
#X connect 45 0 46 1;
#X connect 46 0 0 0;
#X connect 48 0 17 1;
#X connect 49 0 18 1;
#X connect 50 0 29 0;
#X restore 159 252 pd crit√®re_inclusion;
#X obj 241 386 +;
#X obj 185 410 +;
#N canvas 0 50 644 426 freezeContours 0;
#X obj 206 65 inlet;
#X obj 141 317 outlet;
#X obj 314 49 inlet;
#X obj 207 125 route 0 1;
#X obj 206 90 list prepend 0;
#X obj 222 212 cvRouteContours 0;
#X obj 222 237 route cvContours;
#X obj 191 264 f;
#X obj 167 219 t b;
#X msg 207 289 cvContours \$1;
#X obj 149 145 t a a b;
#X msg 237 178 0 \, 0 \, 0 \, 0 \, 0;
#X connect 0 0 4 0;
#X connect 2 0 4 1;
#X connect 3 0 10 0;
#X connect 3 1 8 0;
#X connect 4 0 3 0;
#X connect 5 0 6 0;
#X connect 6 0 7 1;
#X connect 7 0 9 0;
#X connect 8 0 7 0;
#X connect 9 0 1 0;
#X connect 10 0 1 0;
#X connect 10 1 5 0;
#X connect 10 2 11 0;
#X connect 11 0 5 1;
#X restore 120 534 pd freezeContours;
#N canvas 0 50 528 300 freezeContours 0;
#X obj 206 25 inlet;
#X obj 133 293 outlet;
#X obj 322 15 inlet;
#X obj 206 50 list prepend 0;
#X obj 171 173 cvRouteContours 0;
#X obj 171 198 route cvContours;
#X obj 60 218 f;
#X obj 58 191 t b;
#X msg 59 245 cvContours \$1;
#X obj 154 117 t a a b;
#X msg 284 139 0 \, 0 \, 0 \, 0 \, 0 \, 0;
#X obj 103 79 route 1 0;
#X connect 0 0 3 0;
#X connect 2 0 3 1;
#X connect 3 0 11 0;
#X connect 4 0 5 0;
#X connect 5 0 6 1;
#X connect 6 0 8 0;
#X connect 7 0 6 0;
#X connect 8 0 1 0;
#X connect 9 0 1 0;
#X connect 9 1 4 0;
#X connect 9 2 10 0;
#X connect 10 0 4 1;
#X connect 11 0 7 0;
#X connect 11 1 9 0;
#X restore 165 486 pd freezeContours;
#X obj 120 559 outlet contours_inclus3;
#X obj 165 511 outlet contours_inclus4;
#X text 384 405 quand le tracking du feuilletA4 est perdu;
#X text 385 425 freezer les contours int√©rieurs;
#X obj 248 142 t a a;
#X obj 246 176 t a a;
#N canvas 0 50 588 567 sending_to_audio_session 0;
#X obj 113 16 inlet;
#X obj 120 561 s TO_AUDIO_SESSION;
#X obj 117 521 list trim;
#X obj 117 496 list prepend send TRACKER;
#X obj 323 41 list split 1;
#X obj 344 88 list trim;
#X obj 344 113 route add;
#X obj 344 138 list split 4;
#X obj 344 184 unpack f f f f;
#X obj 344 239 /;
#X obj 377 272 /;
#X obj 407 306 /;
#X obj 491 317 /;
#X obj 362 210 r WIDTH;
#X obj 407 248 r HEIGHT;
#X obj 344 363 pack f f f f;
#X obj 344 388 list append;
#X obj 344 413 list prepend add;
#X obj 323 446 list append;
#X connect 0 0 3 0;
#X connect 2 0 1 0;
#X connect 3 0 2 0;
#X connect 4 0 18 0;
#X connect 4 1 5 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 6 1 18 1;
#X connect 7 0 8 0;
#X connect 7 1 16 1;
#X connect 8 0 9 0;
#X connect 8 1 10 0;
#X connect 8 2 11 0;
#X connect 8 3 12 0;
#X connect 9 0 15 0;
#X connect 10 0 15 1;
#X connect 11 0 15 2;
#X connect 12 0 15 3;
#X connect 13 0 9 1;
#X connect 14 0 10 1;
#X connect 14 0 11 1;
#X connect 14 0 12 1;
#X connect 15 0 16 0;
#X connect 16 0 17 0;
#X connect 17 0 18 1;
#X restore 410 297 pd sending_to_audio_session;
#X obj 423 157 s tracker_update;
#N canvas 0 50 541 530 display 0;
#X obj 251 81 loadbang;
#X msg 252 196 font stuff/vera.ttf;
#X obj 251 106 delay 10;
#X obj 112 216 unpack f f;
#X obj 112 241 / 640;
#X obj 112 266 - 0.5;
#X obj 112 291 * 10.6666;
#X obj 202 266 - 0.5;
#X obj 202 241 / 480;
#X obj 13 285 translateXYZ;
#X obj 11 141 gemhead 51;
#X obj 202 291 * -8;
#X obj 13 310 text3d;
#X obj 9 172 color 1 0 0;
#X msg 313 346 5;
#X obj 384 333 loadbang;
#X msg 167 388 text 0';
#X msg 98 85 1;
#X msg 150 86 0;
#X obj 112 191 route update add remove;
#X obj 128 160 inlet;
#X connect 0 0 2 0;
#X connect 0 0 18 0;
#X connect 1 0 12 0;
#X connect 2 0 1 0;
#X connect 3 0 4 0;
#X connect 3 1 8 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 6 0 9 1;
#X connect 7 0 11 0;
#X connect 8 0 7 0;
#X connect 9 0 12 0;
#X connect 10 0 13 0;
#X connect 11 0 9 2;
#X connect 13 0 9 0;
#X connect 14 0 12 1;
#X connect 15 0 14 0;
#X connect 15 0 16 0;
#X connect 16 0 12 0;
#X connect 17 0 10 0;
#X connect 18 0 10 0;
#X connect 19 0 3 0;
#X connect 19 1 17 0;
#X connect 19 2 18 0;
#X connect 20 0 19 0;
#X restore 585 244 pd display;
#X obj 586 208 route 0 1 2 3;
#N canvas 0 50 541 530 display 0;
#X obj 251 81 loadbang;
#X msg 252 196 font stuff/vera.ttf;
#X obj 251 106 delay 10;
#X obj 112 216 unpack f f;
#X obj 112 241 / 640;
#X obj 112 266 - 0.5;
#X obj 112 291 * 10.6666;
#X obj 202 266 - 0.5;
#X obj 202 241 / 480;
#X obj 13 285 translateXYZ;
#X obj 11 141 gemhead 51;
#X obj 202 291 * -8;
#X obj 13 310 text3d;
#X obj 9 172 color 1 0 0;
#X msg 313 346 5;
#X obj 384 333 loadbang;
#X msg 98 85 1;
#X msg 150 86 0;
#X obj 112 191 route update add remove;
#X obj 128 160 inlet;
#X msg 167 388 text 1';
#X connect 0 0 2 0;
#X connect 0 0 17 0;
#X connect 1 0 12 0;
#X connect 2 0 1 0;
#X connect 3 0 4 0;
#X connect 3 1 8 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 6 0 9 1;
#X connect 7 0 11 0;
#X connect 8 0 7 0;
#X connect 9 0 12 0;
#X connect 10 0 13 0;
#X connect 11 0 9 2;
#X connect 13 0 9 0;
#X connect 14 0 12 1;
#X connect 15 0 14 0;
#X connect 15 0 20 0;
#X connect 16 0 10 0;
#X connect 17 0 10 0;
#X connect 18 0 3 0;
#X connect 18 1 16 0;
#X connect 18 2 17 0;
#X connect 19 0 18 0;
#X connect 20 0 12 0;
#X restore 595 274 pd display;
#N canvas 0 50 541 530 display 0;
#X obj 251 81 loadbang;
#X msg 252 196 font stuff/vera.ttf;
#X obj 251 106 delay 10;
#X obj 112 216 unpack f f;
#X obj 112 241 / 640;
#X obj 112 266 - 0.5;
#X obj 112 291 * 10.6666;
#X obj 202 266 - 0.5;
#X obj 202 241 / 480;
#X obj 13 285 translateXYZ;
#X obj 11 141 gemhead 51;
#X obj 202 291 * -8;
#X obj 13 310 text3d;
#X obj 9 172 color 1 0 0;
#X msg 313 346 5;
#X obj 384 333 loadbang;
#X msg 98 85 1;
#X msg 150 86 0;
#X obj 112 191 route update add remove;
#X obj 128 160 inlet;
#X msg 167 388 text 2';
#X connect 0 0 2 0;
#X connect 0 0 17 0;
#X connect 1 0 12 0;
#X connect 2 0 1 0;
#X connect 3 0 4 0;
#X connect 3 1 8 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 6 0 9 1;
#X connect 7 0 11 0;
#X connect 8 0 7 0;
#X connect 9 0 12 0;
#X connect 10 0 13 0;
#X connect 11 0 9 2;
#X connect 13 0 9 0;
#X connect 14 0 12 1;
#X connect 15 0 14 0;
#X connect 15 0 20 0;
#X connect 16 0 10 0;
#X connect 17 0 10 0;
#X connect 18 0 3 0;
#X connect 18 1 16 0;
#X connect 18 2 17 0;
#X connect 19 0 18 0;
#X connect 20 0 12 0;
#X restore 625 315 pd display;
#N canvas 0 50 541 530 display 0;
#X obj 251 81 loadbang;
#X msg 252 196 font stuff/vera.ttf;
#X obj 251 106 delay 10;
#X obj 112 216 unpack f f;
#X obj 112 241 / 640;
#X obj 112 266 - 0.5;
#X obj 112 291 * 10.6666;
#X obj 202 266 - 0.5;
#X obj 202 241 / 480;
#X obj 13 285 translateXYZ;
#X obj 11 141 gemhead 51;
#X obj 202 291 * -8;
#X obj 13 310 text3d;
#X obj 9 172 color 1 0 0;
#X msg 313 346 5;
#X obj 384 333 loadbang;
#X msg 98 85 1;
#X msg 150 86 0;
#X obj 112 191 route update add remove;
#X obj 128 160 inlet;
#X msg 167 388 text 3';
#X connect 0 0 2 0;
#X connect 0 0 17 0;
#X connect 1 0 12 0;
#X connect 2 0 1 0;
#X connect 3 0 4 0;
#X connect 3 1 8 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 6 0 9 1;
#X connect 7 0 11 0;
#X connect 8 0 7 0;
#X connect 9 0 12 0;
#X connect 10 0 13 0;
#X connect 11 0 9 2;
#X connect 13 0 9 0;
#X connect 14 0 12 1;
#X connect 15 0 14 0;
#X connect 15 0 20 0;
#X connect 16 0 10 0;
#X connect 17 0 10 0;
#X connect 18 0 3 0;
#X connect 18 1 16 0;
#X connect 18 2 17 0;
#X connect 19 0 18 0;
#X connect 20 0 12 0;
#X restore 635 345 pd display;
#X obj 292 180 t a;
#X obj 247 116 tracker2 4 2000 100 2;
#X connect 0 0 14 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 2 1 6 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 4 0 22 0;
#X connect 5 0 4 1;
#X connect 6 0 4 1;
#X connect 7 0 8 1;
#X connect 8 0 28 0;
#X connect 9 0 8 0;
#X connect 9 1 12 1;
#X connect 11 0 45 1;
#X connect 12 0 15 0;
#X connect 13 0 16 0;
#X connect 14 0 21 0;
#X connect 14 1 1 0;
#X connect 14 2 45 0;
#X connect 18 0 9 1;
#X connect 18 1 24 1;
#X connect 18 2 25 1;
#X connect 18 3 26 1;
#X connect 19 0 27 0;
#X connect 20 0 27 1;
#X connect 21 0 12 0;
#X connect 21 1 13 0;
#X connect 21 2 29 0;
#X connect 21 3 30 0;
#X connect 21 4 17 0;
#X connect 22 0 23 0;
#X connect 23 0 9 0;
#X connect 23 1 24 0;
#X connect 23 2 25 0;
#X connect 23 3 26 0;
#X connect 24 0 7 0;
#X connect 24 1 13 1;
#X connect 25 0 19 0;
#X connect 25 1 29 1;
#X connect 26 0 20 0;
#X connect 26 1 30 1;
#X connect 27 0 28 1;
#X connect 28 0 21 1;
#X connect 29 0 31 0;
#X connect 30 0 32 0;
#X connect 35 0 36 0;
#X connect 35 1 37 0;
#X connect 36 0 18 0;
#X connect 40 0 39 0;
#X connect 40 1 41 0;
#X connect 40 2 42 0;
#X connect 40 3 43 0;
#X connect 44 0 40 0;
#X connect 45 0 35 0;
#X connect 45 1 36 0;
#X connect 45 1 38 0;
#X restore 381 383 pd tracking_A4/tri_des_contours_inclus;
#N canvas 1 56 1362 691 detectionRectangles 0;
#X text 739 240 (blancs sur fond noir);
#X obj 468 15 inlet scale;
#X obj 23 380 outlet other_contours;
#X obj 76 4 inlet;
#X obj 75 28 t b a a b;
#X obj 98 268 cvRouteContours 1 2;
#X obj 172 515 outlet contoursA4;
#X obj 684 25 inlet minperimeter;
#X obj 344 110 text define contours;
#X obj 328 133 text define A4;
#X msg 328 84 clear;
#X text 512 94 structure de stockage;
#X text 429 79 enregistrement parametres contours dans structure text
;
#N canvas 0 50 1297 537 extraction_contour_features 0;
#X obj 126 41 inlet;
#X obj 123 258 outlet;
#X obj 129 118 cvContoursFeature MinAreaRect Area IsHole Perimeter
;
#X obj 129 172 list append;
#X obj 399 151 pack f f f;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 2 1 4 0;
#X connect 2 2 4 1;
#X connect 2 3 4 2;
#X connect 3 0 1 0;
#X connect 4 0 3 1;
#X restore 247 164 pd extraction_contour_features;
#X obj 247 189 t l l;
#X obj 247 243 t f f;
#X text 683 201 0 = contours trop petits;
#X text 685 226 2 = contours de taille A4;
#X text 657 178 identification des contours;
#X text 686 262 1 = autres contours;
#X obj 284 267 select 1 2;
#X obj 322 387 outlet contours14_features;
#N canvas 0 50 576 300 text_append_A4 0;
#X obj 151 162 list append;
#X msg 187 234 1e+06;
#X obj 220 199 loadbang;
#X obj 156 274 text set A4;
#X obj 144 131 inlet;
#X obj 232 126 inlet;
#X obj 114 204 t l l;
#X obj 114 229 outlet;
#X connect 0 0 6 0;
#X connect 1 0 3 1;
#X connect 2 0 1 0;
#X connect 4 0 0 0;
#X connect 5 0 0 1;
#X connect 6 0 7 0;
#X connect 6 1 3 0;
#X restore 323 359 pd text_append_A4;
#N canvas 0 50 576 300 text_append_contours 0;
#X obj 151 162 list append;
#X msg 187 234 1e+06;
#X obj 220 199 loadbang;
#X obj 144 131 inlet;
#X obj 232 126 inlet;
#X obj 156 274 text set contours;
#X connect 0 0 5 0;
#X connect 1 0 5 1;
#X connect 2 0 1 0;
#X connect 3 0 0 0;
#X connect 4 0 0 1;
#X restore 285 417 pd text_append_contours;
#N canvas 272 90 1037 582 identification_contours(rectangle_&_autres_contours)
0;
#X obj 120 24 inlet;
#X obj 122 386 outlet;
#X obj 603 15 t f f;
#X obj 609 39 *;
#X obj 608 74 * 0.21;
#X obj 604 102 * 0.297;
#X obj 671 -3 loadbang;
#X obj 572 -23 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 111 94 list split 2;
#X obj 716 38 r \$0-scale;
#X obj 518 -14 inlet;
#X obj 596 -12 f 500;
#X text 541 323 $f6 = perimetre;
#X text 542 291 $f5 = IsHole;
#X text 545 262 $f4 = Area;
#X obj 542 176 hsl 128 15 0 127 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X obj 859 139 inlet;
#X obj 130 312 t f f;
#X floatatom 542 29 5 0 0 0 - - -;
#X text 546 375 $f1 \, $f2 largeur hauteur;
#X text 538 412 $f3 angle;
#X obj 174 148 list split 6;
#X obj 130 247 expr (($f1*$f2)>$f4*0.8)*(($f1*$f2)<$f4*1.2)*(1-$f5)*(($f1*$f2)>$f7)*($f1+$f2<900)+
($f6>$f8), f 40;
#X connect 0 0 8 0;
#X connect 2 0 3 0;
#X connect 2 1 3 1;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 22 6;
#X connect 6 0 11 0;
#X connect 7 0 11 0;
#X connect 8 1 21 0;
#X connect 10 0 11 0;
#X connect 10 0 18 0;
#X connect 11 0 2 0;
#X connect 15 0 22 7;
#X connect 16 0 22 7;
#X connect 17 0 1 0;
#X connect 21 0 22 0;
#X connect 22 0 17 0;
#X restore 247 218 pd identification_contours(rectangle_&_autres_contours)
;
#X obj 695 451 unpack f f;
#X obj 972 434 unpack f f;
#X obj 597 560 pack f f f f f f f f, f 68;
#X obj 1001 257 r WIDTH;
#X obj 1068 293 r HEIGHT;
#X obj 598 481 expr $f1/$f5 \; 1-$f2/$f6 \; $f3/$f5 \; 1-$f4/$f6,
f 29;
#X obj 908 481 expr $f1/$f5 \; 1-$f2/$f6 \; $f3/$f5 \; 1-$f4/$f6,
f 29;
#X obj 874 447 unpack f f;
#X obj 585 451 unpack f f;
#X obj 606 394 cvContoursPoints 4;
#X obj 606 420 route 3 2 1 0;
#X obj 606 369 cvApproxContours 0.1;
#X obj 199 330 t a a;
#X obj 605 328 t a;
#X connect 1 0 24 1;
#X connect 3 0 4 0;
#X connect 4 1 5 0;
#X connect 4 2 13 0;
#X connect 4 3 10 0;
#X connect 5 0 2 0;
#X connect 5 1 37 0;
#X connect 7 0 24 2;
#X connect 10 0 8 0;
#X connect 10 0 9 0;
#X connect 13 0 14 0;
#X connect 14 0 24 0;
#X connect 14 1 22 1;
#X connect 14 1 23 1;
#X connect 15 0 5 1;
#X connect 15 1 20 0;
#X connect 20 0 23 0;
#X connect 20 1 22 0;
#X connect 22 0 21 0;
#X connect 24 0 15 0;
#X connect 25 0 30 2;
#X connect 25 1 30 3;
#X connect 26 0 31 2;
#X connect 26 1 31 3;
#X connect 28 0 30 4;
#X connect 28 0 31 4;
#X connect 29 0 30 5;
#X connect 29 0 31 5;
#X connect 30 0 27 0;
#X connect 30 1 27 1;
#X connect 30 2 27 2;
#X connect 30 3 27 3;
#X connect 31 0 27 4;
#X connect 31 1 27 5;
#X connect 31 2 27 6;
#X connect 31 3 27 7;
#X connect 32 0 31 0;
#X connect 32 1 31 1;
#X connect 33 0 30 0;
#X connect 33 1 30 1;
#X connect 34 0 35 0;
#X connect 35 0 33 0;
#X connect 35 1 25 0;
#X connect 35 2 32 0;
#X connect 35 3 26 0;
#X connect 36 0 34 0;
#X connect 37 0 6 0;
#X connect 37 1 38 0;
#X restore 380 298 pd detectionRectangles;
#X obj 101 655 pix_texture;
#N canvas 1 56 494 428 show_contours 0;
#X obj 24 285 cvDrawContours;
#X obj 95 199 loadbang;
#X obj 37 80 inlet;
#X obj 304 116 inlet contours;
#X obj 24 310 outlet;
#X msg 63 241 thickness 4 \, color 255 200 200;
#X connect 0 0 4 0;
#X connect 1 0 5 0;
#X connect 2 0 0 0;
#X connect 3 0 0 1;
#X connect 5 0 0 0;
#X restore 101 526 pd show_contours;
#N canvas 1 56 494 428 show_contours 0;
#X obj 24 285 cvDrawContours;
#X obj 95 199 loadbang;
#X obj 37 80 inlet;
#X obj 304 116 inlet contours;
#X obj 24 310 outlet;
#X msg 63 241 thickness 1 \, color 200 255 255;
#X connect 0 0 4 0;
#X connect 1 0 5 0;
#X connect 2 0 0 0;
#X connect 3 0 0 1;
#X connect 5 0 0 0;
#X restore 101 551 pd show_contours;
#N canvas 1 56 494 428 show_contours 0;
#X obj 24 285 cvDrawContours;
#X obj 95 199 loadbang;
#X obj 37 80 inlet;
#X obj 304 116 inlet contours;
#X obj 24 310 outlet;
#X msg 63 241 thickness 1 \, color 255 255 200;
#X connect 0 0 4 0;
#X connect 1 0 5 0;
#X connect 2 0 0 0;
#X connect 3 0 0 1;
#X connect 5 0 0 0;
#X restore 101 578 pd show_contours;
#X obj 549 247 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X text 47 501 rouge;
#N canvas 1 56 494 428 show_contours 0;
#X obj 24 285 cvDrawContours;
#X obj 95 199 loadbang;
#X obj 37 80 inlet;
#X obj 304 116 inlet contours;
#X obj 24 310 outlet;
#X msg 63 241 thickness 1 \, color 0 255 255;
#X connect 0 0 4 0;
#X connect 1 0 5 0;
#X connect 2 0 0 0;
#X connect 3 0 0 1;
#X connect 5 0 0 0;
#X restore 106 484 pd show_contours;
#X text 301 86 Extraire les 4 corners;
#X text 261 113 Permettre le linkage dynamique des modules de traitement
avec les, f 31;
#X obj 465 324 s big_contours;
#X obj 381 500 s inner_contours-0;
#X obj 456 477 s inner_contours-1;
#X obj 531 454 s inner_contours-2;
#X obj 606 431 s inner_contours-3;
#X obj 682 408 s other_contours;
#X obj 242 467 r other_contours;
#X obj 247 495 r big_contours;
#X obj 245 525 r inner_contours-0;
#X floatatom 225 375 5 0 0 0 - - -;
#X msg 259 421 1 1 1 1;
#X obj 55 193 t a a a a a a;
#N canvas 286 50 992 664 upic 0;
#X obj 28 37 inlet;
#N canvas 326 50 1132 622 upic_stuff 0;
#X obj 300 248 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X msg 288 275 1;
#X msg 288 298 0;
#X obj 400 625 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#N canvas 528 50 845 645 drawing(GEM) 0;
#X obj 177 301 GEMglLoadIdentity;
#X obj 243 125 unpack f f f;
#X msg 97 199 0;
#X obj 41 173 loadbang;
#X obj 184 352 color 0 0 0;
#X obj 157 480 circle 0.05;
#X obj 272 87 inlet scan_values;
#X obj 175 157 select 1 0;
#X obj 184 205 t b b;
#X msg 244 257 1 0 0;
#X obj 242 195 t b b;
#X msg 255 227 0 0 0.8;
#X msg 268 485 0.01;
#X msg 285 518 0.05;
#X obj 346 253 expr $f1*10.666-5.333 \; $f2*8-4;
#X floatatom 339 396 5 0 0 0 - - -;
#X obj 574 241 r gemwin;
#X obj 574 266 route view;
#X obj 574 291 unpack f f f;
#X obj 674 327 * -1;
#X obj 167 423 translateXYZ 0 0 0;
#X obj 564 327 * -1;
#X obj 624 327 * -1;
#X obj 167 448 translateXYZ 0 0 -4;
#X obj 114 262 gemhead;
#X connect 0 0 4 0;
#X connect 1 0 7 0;
#X connect 1 1 14 0;
#X connect 1 2 14 1;
#X connect 2 0 24 0;
#X connect 3 0 2 0;
#X connect 4 0 20 0;
#X connect 6 0 1 0;
#X connect 7 0 8 0;
#X connect 7 1 10 0;
#X connect 8 0 24 0;
#X connect 8 1 9 0;
#X connect 8 1 13 0;
#X connect 9 0 4 1;
#X connect 10 0 24 0;
#X connect 10 1 11 0;
#X connect 10 1 12 0;
#X connect 11 0 4 1;
#X connect 12 0 5 1;
#X connect 13 0 5 1;
#X connect 14 0 20 1;
#X connect 14 1 20 2;
#X connect 15 0 23 3;
#X connect 16 0 17 0;
#X connect 17 0 18 0;
#X connect 18 0 21 0;
#X connect 18 1 22 0;
#X connect 18 2 19 0;
#X connect 19 0 15 0;
#X connect 20 0 23 0;
#X connect 21 0 23 1;
#X connect 22 0 23 2;
#X connect 23 0 5 0;
#X connect 24 0 0 0;
#X restore 120 516 pd drawing(GEM);
#X obj 407 181 hsl 128 15 0 1 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X msg 412 210 index \$1;
#X text 242 479 outlet2 : <numero_note> <value(0/64)>;
#X msg 310 362 point 30 40 300 40 30 200 300 200;
#X text 242 398 argument 1 : finesse de r√©solution verticale;
#X text 239 417 argument 2 : etendue en demi-tons (autour de valeur
centrale 0), f 65;
#X text 246 459 outlet1 : <etat> <coordonnÈes x y du point scannÈ>
;
#X obj 147 176 loadbang;
#X obj 35 7 inlet;
#X obj 371 533 outlet noteout;
#X text 317 340 Pour recadrer le scan sur une partie de l'image;
#X text 239 437 argument 3 : seuil auto (adaptive threshold), f 65
;
#N canvas 0 50 701 300 draw_active_area 0;
#X obj 132 205 pack f f;
#X msg 124 231 \$1 \$2 0;
#X obj 234 204 pack f f;
#X msg 226 230 \$1 \$2 0;
#X obj 330 202 pack f f;
#X msg 322 228 \$1 \$2 0;
#X obj 432 201 pack f f;
#X msg 424 227 \$1 \$2 0;
#X obj 191 65 unpack f f f f f f f f;
#X obj 96 260 curve 2;
#X obj 97 281 curve 2;
#X obj 97 301 curve 2;
#X obj 98 323 curve 2;
#X obj 392 111 expr $f1*8-4 \; $f2*8-4;
#X obj 530 112 expr $f1*8-4 \; $f2*8-4;
#X obj 193 19 inlet;
#X msg 62 218 width 2;
#X obj 43 114 loadbang;
#X obj 332 10 inlet;
#X obj 296 113 expr $f1*8-4 \; $f2*8-4;
#X obj 127 103 expr $f1*8-4 \; $f2*8-4;
#X obj 138 161 * 1;
#X obj 278 161 * 1;
#X obj 372 172 * 1;
#X obj 478 161 * 1;
#X obj 536 29 loadbang;
#X msg 555 75 1.33333;
#X obj 76 2 r GEM;
#X obj 76 34 spigot;
#X obj 29 68 color 1 1 0;
#X connect 0 0 1 0;
#X connect 1 0 9 1;
#X connect 1 0 12 2;
#X connect 2 0 3 0;
#X connect 3 0 9 2;
#X connect 3 0 10 1;
#X connect 4 0 5 0;
#X connect 5 0 10 2;
#X connect 5 0 11 1;
#X connect 6 0 7 0;
#X connect 7 0 11 2;
#X connect 7 0 12 1;
#X connect 8 0 20 0;
#X connect 8 1 20 1;
#X connect 8 2 19 0;
#X connect 8 3 19 1;
#X connect 8 4 13 0;
#X connect 8 5 13 1;
#X connect 8 6 14 0;
#X connect 8 7 14 1;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 13 0 23 0;
#X connect 13 1 4 1;
#X connect 14 0 24 0;
#X connect 14 1 6 1;
#X connect 15 0 8 0;
#X connect 16 0 9 0;
#X connect 16 0 10 0;
#X connect 16 0 11 0;
#X connect 16 0 12 0;
#X connect 17 0 16 0;
#X connect 18 0 28 1;
#X connect 19 0 22 0;
#X connect 19 1 2 1;
#X connect 20 0 21 0;
#X connect 20 1 0 1;
#X connect 21 0 0 0;
#X connect 22 0 2 0;
#X connect 23 0 4 0;
#X connect 24 0 6 0;
#X connect 25 0 26 0;
#X connect 26 0 24 1;
#X connect 26 0 23 1;
#X connect 26 0 22 1;
#X connect 26 0 21 1;
#X connect 27 0 28 0;
#X connect 28 0 29 0;
#X connect 29 0 9 0;
#X restore 675 531 pd draw_active_area;
#N canvas 467 58 773 633 get4points 0;
#X obj 227 39 gemmouse 1 1;
#X obj 4 320 f;
#X obj 35 320 + 1;
#X obj 88 214 spigot;
#X msg 190 176 1;
#X obj 147 278 list append;
#X obj 227 106 pack f f;
#X obj 67 259 t b b;
#X obj 165 360 list;
#X obj 147 315 list prepend;
#X obj 92 176 select 1;
#X obj -2 358 select 3;
#X msg -2 386 0;
#X obj 103 400 list append;
#X obj 103 422 outlet;
#X obj 84 347 < 3;
#X obj 435 230 loadbang;
#X msg 441 257 0;
#X msg 493 308 text waiting for point \$1;
#X msg 84 292 -1;
#X obj 240 86 expr 1-$f1;
#X obj 424 282 gemhead 52;
#X obj 421 305 color 0 1 0;
#X obj 45 65 inlet;
#X obj 421 411 translateXYZ 0 0 0.01;
#X obj 294 430 outlet;
#X obj 561 51 loadbang;
#X msg 562 166 font stuff/vera.ttf;
#X obj 557 369 scale 0.4;
#X obj 421 441 text3d;
#X obj 561 76 delay 10;
#X connect 0 0 6 0;
#X connect 0 1 20 0;
#X connect 0 2 10 0;
#X connect 1 0 2 0;
#X connect 1 0 11 0;
#X connect 1 0 15 0;
#X connect 2 0 1 1;
#X connect 2 0 18 0;
#X connect 3 0 7 0;
#X connect 4 0 3 1;
#X connect 4 0 21 0;
#X connect 5 0 9 0;
#X connect 6 0 5 1;
#X connect 7 0 1 0;
#X connect 7 1 5 0;
#X connect 8 0 9 1;
#X connect 8 0 13 1;
#X connect 8 0 25 0;
#X connect 9 0 8 0;
#X connect 10 0 3 0;
#X connect 11 0 12 0;
#X connect 11 0 13 0;
#X connect 12 0 3 1;
#X connect 13 0 14 0;
#X connect 15 0 21 0;
#X connect 16 0 17 0;
#X connect 17 0 21 0;
#X connect 18 0 29 0;
#X connect 19 0 2 0;
#X connect 20 0 6 1;
#X connect 21 0 22 0;
#X connect 22 0 28 0;
#X connect 23 0 4 0;
#X connect 23 0 8 0;
#X connect 23 0 19 0;
#X connect 24 0 29 0;
#X connect 26 0 30 0;
#X connect 27 0 29 0;
#X connect 28 0 24 0;
#X connect 30 0 27 0;
#X restore 617 215 pd get4points;
#N canvas 0 50 450 300 save_current_state 0;
#X obj 68 55 inlet;
#X obj 66 146 outlet;
#X obj 182 32 loadbang;
#X msg 67 123 0.910937 0.41875 0.3625 0.28125 0.301562 0.7875 0.839063
0.85;
#X obj 67 76 list prepend set;
#X obj 68 98 list trim;
#X connect 0 0 4 0;
#X connect 2 0 3 0;
#X connect 3 0 1 0;
#X connect 4 0 5 0;
#X connect 5 0 3 0;
#X restore 635 256 pd save_current_state;
#X obj 542 198 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 811 462 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#N canvas 0 50 702 300 conversion 0;
#X obj 200 7 inlet;
#X obj 200 242 outlet;
#X obj 198 58 unpack f f f f f f f f;
#X obj 169 123 *;
#X obj 209 123 *;
#X obj 239 123 *;
#X obj 279 123 *;
#X obj 319 123 *;
#X obj 359 123 *;
#X obj 389 123 *;
#X obj 429 123 *;
#X obj 198 188 pack f f f f f f f f;
#X obj 375 22 inlet width;
#X obj 540 27 inlet height;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 2 1 4 0;
#X connect 2 2 5 0;
#X connect 2 3 6 0;
#X connect 2 4 7 0;
#X connect 2 5 8 0;
#X connect 2 6 9 0;
#X connect 2 7 10 0;
#X connect 3 0 11 0;
#X connect 4 0 11 1;
#X connect 5 0 11 2;
#X connect 6 0 11 3;
#X connect 7 0 11 4;
#X connect 8 0 11 5;
#X connect 9 0 11 6;
#X connect 10 0 11 7;
#X connect 11 0 1 0;
#X connect 12 0 3 1;
#X connect 12 0 5 1;
#X connect 12 0 7 1;
#X connect 12 0 9 1;
#X connect 13 0 4 1;
#X connect 13 0 6 1;
#X connect 13 0 8 1;
#X connect 13 0 10 1;
#X restore 475 267 pd conversion;
#X msg 381 317 point \$7 \$8 \$5 \$6 \$1 \$2 \$3 \$4;
#X obj 632 163 inlet;
#X text 321 299 pause;
#X text 325 272 start/resume;
#X obj 608 106 gemkeyboard;
#X obj 608 132 select 67 27;
#X msg 730 144 0;
#X msg 148 200 duration 15;
#X obj 863 49 inlet points;
#X obj 821 153 t a a a;
#X obj 882 285 outlet calibration_points;
#X obj 341 17 r WIDTH;
#X obj 351 47 r HEIGHT;
#X obj 819 409 r UPIC;
#X obj 814 433 route float;
#X obj 1002 545 outlet scan_out;
#X obj 120 405 upic2 96 48 1, f 50;
#X connect 0 0 39 0;
#X connect 1 0 39 0;
#X connect 2 0 39 0;
#X connect 5 0 6 0;
#X connect 6 0 39 0;
#X connect 8 0 39 0;
#X connect 12 0 30 0;
#X connect 13 0 39 0;
#X connect 18 0 17 0;
#X connect 18 0 19 0;
#X connect 18 0 22 0;
#X connect 18 0 33 0;
#X connect 18 1 17 0;
#X connect 19 0 17 0;
#X connect 20 0 18 0;
#X connect 21 0 17 1;
#X connect 22 0 23 0;
#X connect 23 0 39 0;
#X connect 24 0 18 0;
#X connect 27 0 28 0;
#X connect 28 0 18 0;
#X connect 28 1 29 0;
#X connect 30 0 39 0;
#X connect 31 0 32 0;
#X connect 32 0 22 0;
#X connect 32 1 17 0;
#X connect 32 2 19 0;
#X connect 34 0 22 1;
#X connect 35 0 22 2;
#X connect 36 0 37 0;
#X connect 39 0 38 0;
#X connect 39 1 14 0;
#X restore 29 198 pd upic_stuff;
#X obj 22 232 list prepend send UPIC note;
#X obj 27 131 spigot;
#X obj 287 118 t b;
#X obj 127 306 list prepend send UPIC calibration_points;
#X obj 272 18 r UPIC;
#X obj 22 332 s TO_AUDIO_SESSION;
#X msg 144 113 index \$1;
#X msg 163 157 margins \$1;
#X obj 270 152 delay 10;
#X obj 637 200 route listen_to_tracker listen_off;
#X obj 607 259 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 684 261 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 577 301 s;
#X obj 721 365 route 0;
#X obj 758 435 list split 9;
#X obj 719 306 r tracker_update;
#X obj 721 336 spigot;
#X msg 820 341 1;
#X msg 752 265 0;
#N canvas 0 50 921 539 contour_approx 0;
#X obj 315 341 unpack f f;
#X obj 592 324 unpack f f;
#X obj 217 450 pack f f f f f f f f, f 68;
#X obj 621 77 r WIDTH;
#X obj 688 113 r HEIGHT;
#X obj 218 371 expr $f1/$f5 \; 1-$f2/$f6 \; $f3/$f5 \; 1-$f4/$f6,
f 29;
#X obj 528 371 expr $f1/$f5 \; 1-$f2/$f6 \; $f3/$f5 \; 1-$f4/$f6,
f 29;
#X obj 494 337 unpack f f;
#X obj 205 341 unpack f f;
#X obj 226 234 cvContoursPoints 4;
#X obj 226 310 route 3 2 1 0;
#X obj 164 198 cvApproxContours 0.1;
#X obj 156 20 inlet;
#X obj 350 11 inlet;
#X obj 114 161 cvRouteContours 1;
#X obj 323 81 f;
#X obj 322 138 until;
#X msg 342 169 0;
#X msg 229 101 1;
#X obj 194 49 t a b b;
#X obj 217 475 outlet;
#X connect 0 0 5 2;
#X connect 0 1 5 3;
#X connect 1 0 6 2;
#X connect 1 1 6 3;
#X connect 2 0 20 0;
#X connect 3 0 5 4;
#X connect 3 0 6 4;
#X connect 4 0 5 5;
#X connect 4 0 6 5;
#X connect 5 0 2 0;
#X connect 5 1 2 1;
#X connect 5 2 2 2;
#X connect 5 3 2 3;
#X connect 6 0 2 4;
#X connect 6 1 2 5;
#X connect 6 2 2 6;
#X connect 6 3 2 7;
#X connect 7 0 6 0;
#X connect 7 1 6 1;
#X connect 8 0 5 0;
#X connect 8 1 5 1;
#X connect 9 0 10 0;
#X connect 10 0 8 0;
#X connect 10 1 0 0;
#X connect 10 2 7 0;
#X connect 10 3 1 0;
#X connect 11 0 9 0;
#X connect 12 0 19 0;
#X connect 13 0 15 1;
#X connect 14 0 11 0;
#X connect 15 0 16 0;
#X connect 16 0 17 0;
#X connect 17 0 14 1;
#X connect 18 0 14 1;
#X connect 19 0 14 0;
#X connect 19 1 18 0;
#X connect 19 2 15 0;
#X restore 525 459 pd contour_approx;
#X obj 802 378 r big_contours;
#X floatatom 798 488 5 0 0 0 - - -;
#X obj 802 403 route cvContours;
#X obj 720 394 t b a;
#X obj 700 432 f;
#X msg 553 435 cvContours \$1;
#X obj 76 63 route float start index margins get_calibration_points
set_calibration_points;
#X msg 658 130 1 \, start \, listen_to_tracker 0;
#X obj 575 506 unpack f f;
#X obj 525 484 list split 4;
#X obj 575 531 * 640;
#X obj 656 543 * 480;
#X obj 575 581 pack f f;
#X obj 575 556 - 5;
#X obj 656 568 - 20;
#X text 849 485 indice;
#X obj 276 423 outlet;
#X obj 374 25 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X msg 125 31 0;
#X obj 138 6 loadbang;
#X obj 443 197 print upic;
#X connect 0 0 3 0;
#X connect 1 0 2 0;
#X connect 1 1 5 0;
#X connect 1 2 38 0;
#X connect 2 0 7 0;
#X connect 3 0 1 0;
#X connect 4 0 10 0;
#X connect 5 0 7 0;
#X connect 6 0 28 0;
#X connect 6 0 39 0;
#X connect 8 0 1 0;
#X connect 9 0 1 0;
#X connect 10 0 1 1;
#X connect 11 0 12 0;
#X connect 11 0 19 0;
#X connect 11 0 15 1;
#X connect 11 1 13 0;
#X connect 11 1 20 0;
#X connect 15 0 25 0;
#X connect 16 1 21 1;
#X connect 16 1 23 0;
#X connect 17 0 18 0;
#X connect 18 0 15 0;
#X connect 19 0 18 1;
#X connect 20 0 18 1;
#X connect 21 0 1 2;
#X connect 21 0 31 0;
#X connect 22 0 24 0;
#X connect 24 0 26 1;
#X connect 25 0 26 0;
#X connect 25 1 16 0;
#X connect 26 0 27 0;
#X connect 27 0 21 0;
#X connect 28 0 3 1;
#X connect 28 1 1 0;
#X connect 28 2 8 0;
#X connect 28 3 9 0;
#X connect 28 4 4 0;
#X connect 28 5 1 2;
#X connect 28 6 11 0;
#X connect 28 6 42 0;
#X connect 29 0 28 0;
#X connect 30 0 32 0;
#X connect 30 1 33 0;
#X connect 31 1 30 0;
#X connect 32 0 35 0;
#X connect 33 0 36 0;
#X connect 35 0 34 0;
#X connect 36 0 34 1;
#X connect 40 0 28 0;
#X connect 41 0 40 0;
#X restore 192 400 pd upic;
#N canvas 531 56 810 685 homographic 0;
#X obj 281 509 t a;
#X text 403 415 <- 2;
#X text 412 481 <- 3;
#X obj 10 407 cnv 15 150 400 empty empty empty 20 12 0 14 -262130 -66577
0;
#X msg 284 481 dimen 512 512;
#X text 21 406 chaine de rendu √† mapper, f 12;
#X msg 140 416;
#X msg 396 498 ratio 1;
#X obj 40 503 inlet;
#X obj 53 632 outlet;
#X obj 142 98 pack f f;
#X obj 152 146 list prepend 0;
#X obj 286 90 hradio 15 1 0 5 empty empty empty 0 -8 0 10 -262144 -1
-1 4;
#X obj 154 195 route 1 2 3 4;
#X obj 338 251 list append;
#X obj 448 271 list append;
#X obj 558 291 list append;
#X obj 118 171 t b l;
#X obj 110 226 t b b b b;
#X obj 228 231 list append;
#X obj 411 308 list append;
#X obj 251 318 list append;
#X obj 273 357 list append;
#X obj 155 2 gemmouse 1 1;
#X obj 242 112 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 145 121 spigot;
#X obj 90 30 - 0.5;
#X obj 92 51 * 1.3333;
#X obj 92 76 + 0.5;
#X obj 67 334 list prepend set;
#X obj 71 360 list trim;
#X obj 78 191 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 33 533 list prepend 0;
#X obj 28 558 route 0 1;
#X obj 139 464 inlet;
#X obj 277 383 mapping/findHomography projection;
#X obj 82 593 mapping/homographic projection;
#X obj 188 503 gemhead;
#X connect 0 0 36 2;
#X connect 4 0 36 0;
#X connect 6 0 35 0;
#X connect 7 0 36 0;
#X connect 8 0 32 0;
#X connect 10 0 25 0;
#X connect 11 0 17 0;
#X connect 12 0 11 1;
#X connect 13 0 19 1;
#X connect 13 1 14 1;
#X connect 13 2 15 1;
#X connect 13 3 16 1;
#X connect 14 0 21 1;
#X connect 15 0 20 0;
#X connect 16 0 20 1;
#X connect 17 0 18 0;
#X connect 17 1 13 0;
#X connect 18 0 19 0;
#X connect 18 1 14 0;
#X connect 18 2 15 0;
#X connect 18 3 16 0;
#X connect 19 0 21 0;
#X connect 20 0 22 1;
#X connect 21 0 22 0;
#X connect 22 0 29 0;
#X connect 22 0 35 0;
#X connect 23 0 26 0;
#X connect 23 1 10 1;
#X connect 23 2 24 0;
#X connect 23 2 25 1;
#X connect 25 0 11 0;
#X connect 26 0 27 0;
#X connect 27 0 28 0;
#X connect 28 0 10 0;
#X connect 29 0 30 0;
#X connect 30 0 6 0;
#X connect 31 0 18 0;
#X connect 32 0 33 0;
#X connect 33 0 9 0;
#X connect 33 1 36 0;
#X connect 34 0 32 1;
#X connect 34 0 37 0;
#X connect 36 0 9 0;
#X connect 36 1 0 0;
#X connect 37 0 36 1;
#X restore 54 157 pd homographic;
#X obj 246 553 r inner_contours-1;
#X obj 106 350 pix_gain;
#X msg 234 344 1 1 1 1;
#X obj 239 313 loadbang;
#X obj 344 225 vsl 15 128 0 1 0 1 empty empty empty 0 -9 0 10 -262144
-1 -1 0 1;
#N canvas 477 63 608 371 netsend/netreceive 0;
#X obj 51 154 spigot;
#X obj 187 -112 netreceive -u 3001;
#X obj 136 149 netsend -u;
#X msg 283 112 connect localhost 3000;
#X obj 403 13 loadbang;
#X obj 55 214 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X msg 318 164 disconnect;
#X obj 199 -86 list split 1;
#X obj 227 -24 list append;
#X obj 222 -51 t b s;
#X obj 251 52 send;
#X obj 246 11 list trim;
#X obj 55 0 r TO_AUDIO_SESSION;
#X obj 91 62 list trim;
#X msg 134 110 send ducon;
#X obj 389 -19 print netreceive_3001;
#X obj 204 188 == 0;
#X obj 506 76 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 356 57 metro 5000;
#X obj 489 134 == 0;
#X obj 356 82 spigot 1;
#X connect 0 0 2 0;
#X connect 1 0 7 0;
#X connect 2 0 0 1;
#X connect 2 0 5 0;
#X connect 2 0 16 0;
#X connect 2 0 19 0;
#X connect 3 0 2 0;
#X connect 4 0 18 0;
#X connect 6 0 2 0;
#X connect 7 0 9 0;
#X connect 7 1 8 1;
#X connect 8 0 11 0;
#X connect 9 0 8 0;
#X connect 9 1 10 1;
#X connect 11 0 10 0;
#X connect 12 0 13 0;
#X connect 13 0 0 0;
#X connect 14 0 2 0;
#X connect 16 0 18 0;
#X connect 17 0 18 0;
#X connect 18 0 20 0;
#X connect 19 0 20 1;
#X connect 20 0 3 0;
#X restore 976 270 pd netsend/netreceive;
#X obj 887 292 loadbang;
#X obj 676 229 gemkeyboard;
#X obj 767 262 select 27;
#X msg 843 344 \; pd quit;
#X obj 786 320 delay 1000;
#X obj 897 433 particules;
#X obj 400 633 t a a;
#X obj 679 572 translateXYZ 2 0 0;
#X obj 898 545 hsl 128 15 -10 10 0 1 empty empty empty -2 -8 0 10 -262144
-1 -1 7678 1;
#X obj 680 546 separator;
#X obj 768 465 hsl 128 15 -10 10 0 1 empty empty empty -2 -8 0 10 -262144
-1 -1 1825 1;
#X obj 723 487 translateXYZ -6 1 0;
#X floatatom 898 466 5 0 0 0 - - -;
#X floatatom 895 565 5 0 0 0 - - -;
#X msg 520 126 6;
#X floatatom 500 173 5 0 0 0 - - -;
#X obj 768 435 hsl 128 15 -10 10 0 1 empty empty empty -2 -8 0 10 -262144
-1 -1 7500 1;
#X msg 913 511 0;
#X obj 723 512 rectangle 2 1.666;
#N canvas 108 51 845 645 UPIC 0;
#X obj 243 125 unpack f f f;
#X obj 441 60 inlet scan_values;
#X obj 175 157 select 1 0;
#X obj 184 205 t b b;
#X obj 347 187 * 640;
#X obj 193 273 f;
#X msg 484 266 5;
#X obj 244 205 t b b;
#X obj 440 197 * -480;
#X obj 320 270 + 480;
#X obj 84 99 inlet gem;
#X obj 110 423 cvDrawCircle;
#X obj 131 338 cvDrawCircle;
#X obj 110 524 outlet gem;
#X obj 234 325 loadbang;
#X msg 240 459 color 128 128 0 \, width -1;
#X msg 413 274 1;
#X obj 253 273 f;
#X msg 230 359 color 255 200 200 \, width -1;
#X connect 0 0 2 0;
#X connect 0 1 4 0;
#X connect 0 2 8 0;
#X connect 1 0 0 0;
#X connect 2 0 3 0;
#X connect 2 1 7 0;
#X connect 3 0 5 0;
#X connect 3 1 6 0;
#X connect 4 0 5 1;
#X connect 4 0 17 1;
#X connect 5 0 11 1;
#X connect 6 0 11 3;
#X connect 7 0 17 0;
#X connect 7 1 16 0;
#X connect 8 0 9 0;
#X connect 9 0 11 2;
#X connect 9 0 12 2;
#X connect 10 0 12 0;
#X connect 11 0 13 0;
#X connect 12 0 11 0;
#X connect 14 0 18 0;
#X connect 14 0 15 0;
#X connect 15 0 12 0;
#X connect 16 0 12 3;
#X connect 17 0 12 1;
#X connect 18 0 11 0;
#X restore 105 626 pd UPIC;
#N canvas 290 56 989 619 cyclogroove 0;
#N canvas 0 50 619 551 trier_4_plus_grands_contours 0;
#X obj 97 0 inlet;
#X obj 67 426 outlet;
#X obj 97 164 t a a;
#X obj 404 45 cvContoursFeature IsHole;
#X obj 107 44 t a a;
#X obj 105 105 cvRouteContours 1;
#X obj 186 250 cvContoursFeature Perimeter;
#X obj 61 387 cvSortContours 4;
#X connect 0 0 4 0;
#X connect 2 0 7 0;
#X connect 2 1 6 0;
#X connect 3 0 5 1;
#X connect 4 0 5 0;
#X connect 4 1 3 0;
#X connect 5 0 2 0;
#X connect 6 0 7 1;
#X connect 7 0 1 0;
#X restore 520 145 pd trier_4_plus_grands_contours;
#X obj 249 12 r CYCLO;
#X obj 258 111 iemlib/iem_receive;
#X msg 260 74 set inner_contours-\$1;
#X msg 446 73 set null;
#X obj 302 224 t a a b a b;
#X obj 372 276 list split 2;
#X obj 542 386 list split 1;
#X obj 590 412 list split 3;
#X obj 542 438 pack f f;
#X obj 622 463 table \$0-indexes 4;
#X obj 542 500 tabwrite \$0-indexes;
#X obj 516 309 s \$0-indexes;
#X msg 530 282 const -1;
#X obj 276 363 t a b;
#X obj 372 251 cvContoursFeature MinAreaRect;
#X obj 177 328 hsl 128 15 0 1 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X msg 233 396 index \$1;
#X obj 295 169 cvContoursFeature IsHole;
#X obj 260 136 t a a;
#X obj 270 198 cvRouteContours 1;
#X obj 99 322 line, f 8;
#X obj 99 265 metro 2000;
#X obj 96 241 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X msg 99 290 0 \, 1 2000;
#X obj 333 330 tracker2 4 200 60;
#X obj 351 426 array get \$0-indexes;
#X obj 277 482 cvRouteContours 0 1 2 3;
#X obj -22 399 inlet;
#X obj -18 546 outlet;
#X obj 277 507 list prepend 0;
#X obj 287 537 list prepend 1;
#X obj 407 517 list prepend 2;
#X obj 417 557 list prepend 3;
#X obj 247 40 route listen_to_tracker listen_off blob;
#X obj -26 430 cyclo_draw \$0-contour-0 255 200 200;
#X obj -28 460 cyclo_draw \$0-contour-1 255 255 200;
#X obj -28 480 cyclo_draw \$0-contour-2 200 200 255;
#X obj -18 510 cyclo_draw \$0-contour-3 200 255 200;
#X text 529 357 tri et routage des contours en fonction de leur index
;
#X obj 227 601 clone store_contour 4 \$0-contour 259;
#X connect 1 0 34 0;
#X connect 2 0 19 0;
#X connect 3 0 2 0;
#X connect 4 0 2 0;
#X connect 5 1 14 0;
#X connect 5 2 25 0;
#X connect 5 3 15 0;
#X connect 5 4 13 0;
#X connect 6 0 25 1;
#X connect 7 0 9 0;
#X connect 7 1 8 0;
#X connect 8 1 9 1;
#X connect 9 0 11 0;
#X connect 13 0 12 0;
#X connect 14 0 27 0;
#X connect 14 1 26 0;
#X connect 15 0 6 0;
#X connect 16 0 17 0;
#X connect 17 0 35 1;
#X connect 17 0 36 1;
#X connect 17 0 37 1;
#X connect 17 0 38 1;
#X connect 18 0 20 1;
#X connect 19 0 20 0;
#X connect 19 1 18 0;
#X connect 20 0 5 0;
#X connect 21 0 16 0;
#X connect 22 0 24 0;
#X connect 23 0 22 0;
#X connect 24 0 21 0;
#X connect 25 0 40 1;
#X connect 25 1 7 0;
#X connect 26 0 27 1;
#X connect 27 0 30 0;
#X connect 27 1 31 0;
#X connect 27 2 32 0;
#X connect 27 3 33 0;
#X connect 28 0 35 0;
#X connect 30 0 40 0;
#X connect 31 0 40 0;
#X connect 32 0 40 0;
#X connect 33 0 40 0;
#X connect 34 0 3 0;
#X connect 34 1 4 0;
#X connect 34 2 40 1;
#X connect 35 0 36 0;
#X connect 36 0 37 0;
#X connect 37 0 38 0;
#X connect 38 0 29 0;
#X restore 100 604 pd cyclogroove;
#N canvas 1 56 938 440 convexity 0;
#X obj 109 82 unpack f f f f;
#X msg 284 239 10;
#X msg 167 231 color 255 0 0 \, width -1;
#X obj 254 162 loadbang;
#X obj 109 51 cvContoursConvexityDefects 113;
#X obj 116 23 r big_contours;
#X obj 50 136 inlet;
#X obj 47 250 outlet;
#X obj 378 75 r \$0-params;
#X obj 421 265 s \$0-params;
#X msg 493 94 margin \$1;
#X obj 500 74 hsl 128 15 0 127 0 1 empty empty empty -2 -8 0 10 -262144
-1 -1 1400 1;
#X floatatom 567 93 5 0 0 0 - - -;
#X obj 507 159 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X text 571 179 0 = using cvConvexityDefects method;
#X text 572 201 1 = using cvConvexHull to find;
#X text 619 222 non-convex points of contour;
#X text 504 35 bypass all candidates that;
#X text 502 53 are too narrow from convex contour;
#X text 614 245 this method is a bit more permissive;
#X msg 494 203 method \$1;
#X text 535 156 convexity searching method (default= 0);
#X floatatom 331 116 5 0 0 0 - - -;
#X obj 366 360 s TO_AUDIO_SESSION;
#X obj 363 329 list prepend send CONVEXITY;
#X obj 125 299 cvDrawCircle;
#X obj 135 340 cvDrawCircles;
#X connect 0 1 25 1;
#X connect 0 2 25 2;
#X connect 1 0 25 3;
#X connect 2 0 25 0;
#X connect 3 0 2 0;
#X connect 3 0 1 0;
#X connect 4 0 0 0;
#X connect 4 0 24 0;
#X connect 4 1 22 0;
#X connect 5 0 4 0;
#X connect 6 0 25 0;
#X connect 8 0 4 0;
#X connect 10 0 9 0;
#X connect 11 0 10 0;
#X connect 11 0 12 0;
#X connect 13 0 20 0;
#X connect 20 0 9 0;
#X connect 24 0 23 0;
#X connect 25 0 7 0;
#X restore 453 564 pd convexity;
#X obj 338 182 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X floatatom 344 361 5 0 0 0 - - -;
#X obj 279 192 line;
#X msg 363 44 0.267 3000;
#X msg 297 46 0.8 3000;
#X obj 134 50 r PIX_GAIN;
#X msg 134 75 \$1 3000;
#X msg 276 76 0 3000;
#X obj 676 598 rectangle 7.08 4;
#X obj 42 97 r video;
#X obj 1010 93 declare -lib pix_opencv;
#X obj 1009 119 declare -lib cvlib;
#X obj 1010 69 declare -lib gem;
#X obj 814 3 declare -path pdr/core/fid_abs_vanilia-0.4;
#X obj 812 25 declare -path pdr/core/stuff;
#X obj 812 45 declare -path pdr/core/rj;
#X obj 824 98 declare -path stuff;
#X connect 1 0 0 0;
#X connect 2 0 0 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 9 1 10 0;
#X connect 9 2 11 0;
#X connect 13 0 0 0;
#X connect 14 0 17 0;
#X connect 14 0 65 1;
#X connect 15 0 67 0;
#X connect 16 0 15 1;
#X connect 17 0 16 0;
#X connect 18 0 22 0;
#X connect 18 1 12 0;
#X connect 19 0 0 0;
#X connect 23 0 22 1;
#X connect 29 0 30 0;
#X connect 29 1 64 0;
#X connect 30 0 42 0;
#X connect 31 0 32 0;
#X connect 33 0 42 2;
#X connect 34 0 42 1;
#X connect 35 0 29 1;
#X connect 35 0 87 0;
#X connect 41 0 53 0;
#X connect 41 1 54 0;
#X connect 41 2 55 0;
#X connect 41 3 56 0;
#X connect 41 4 57 0;
#X connect 42 0 41 0;
#X connect 42 1 52 0;
#X connect 42 2 41 1;
#X connect 43 0 78 0;
#X connect 44 0 45 0;
#X connect 45 0 46 0;
#X connect 46 0 92 0;
#X connect 49 0 44 0;
#X connect 58 0 49 1;
#X connect 59 0 44 1;
#X connect 60 0 45 1;
#X connect 63 0 18 0;
#X connect 63 1 15 0;
#X connect 63 3 29 0;
#X connect 63 4 9 0;
#X connect 64 0 91 1;
#X connect 65 0 63 0;
#X connect 66 0 46 1;
#X connect 67 0 49 0;
#X connect 68 0 67 2;
#X connect 69 0 68 0;
#X connect 70 0 67 1;
#X connect 70 0 95 0;
#X connect 72 0 86 0;
#X connect 73 0 74 0;
#X connect 74 0 76 0;
#X connect 74 0 2 0;
#X connect 76 0 75 0;
#X connect 78 0 83 0;
#X connect 78 1 81 0;
#X connect 79 0 102 0;
#X connect 80 0 79 1;
#X connect 80 0 85 0;
#X connect 81 0 79 0;
#X connect 82 0 83 1;
#X connect 82 0 84 0;
#X connect 83 0 90 0;
#X connect 86 0 0 0;
#X connect 88 0 83 2;
#X connect 89 0 80 0;
#X connect 91 0 43 0;
#X connect 92 0 91 0;
#X connect 93 0 43 0;
#X connect 94 0 70 0;
#X connect 96 0 70 0;
#X connect 97 0 96 0;
#X connect 98 0 96 0;
#X connect 99 0 100 0;
#X connect 100 0 96 0;
#X connect 101 0 96 0;
#X connect 103 0 65 0;
